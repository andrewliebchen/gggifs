<head>
  <title>gggifs</title>
</head>

<template name="layout">
  {{> header }}
  {{> search }}
  {{> Template.dynamic template=content }}
</template>

<template name="home">
  {{> searchResults }}
</template>

<template name="header">
  <header>
    <a href="/">Home</a>
    {{> loginButtons }}
    <a href="/u/{{ currentUserId }}">Profile</a>
  </header>
</template>

<template name="search">
  <header class="search">
    <input type="search" class="mtr-gif-search"/>
  </header>
</template>

<template name="searchResults">
  <div class="gifs">
    <h2>{{ resultsTitle }}</h2>
    <div>
      {{ #each result in results }}
        <div>
          <img src="{{ result.images.fixed_width.url }}"/>
          {{> addGif data=result}}
        </div>
      {{ /each }}
    </div>
  </div>
</template>

<template name="userGifs">
  <div class="gifs">
    <h2>Your gifs</h2>
    {{ #each gif in gifs }}
      <div>
        <img src="{{ gif.data.images.fixed_width.url }}"/>
        {{ > removeGif gif=gif }}
        {{> tags gif=gif }}
      </div>
    {{ /each }}
  </div>
</template>

<template name="addGif">
  {{ #if currentUser }}
    <button class="mtr-add-gif">Add</button>
  {{ /if }}
</template>

<template name="removeGif">
  {{ #if canEdit }}
    <button class="mtr-remove-gif">Delete gif</button>
  {{ /if }}
</template>

<template name="tags">
  {{ #each tag in gif.tags }}
    {{> singleTag data=tag id=gif._id canEdit=canEdit }}
  {{ /each }}
  <input type="text" class="mtr-add-tag"/>
</template>


<template name="singleTag">
  <div class="tag">
    {{ data }}
    {{ #if canEdit }}
      <a class="mtr-remove-tag">Remove</a>
    {{ /if }}
  </div>
</template>
